apiVersion: extensions/v1beta1
kind: Deployment
metadata:
 name: nginx-deployment
spec:
 # A deployment's specification really only
 # has a few useful options

 # 1. How many copies of each pod do we want?
 replicas: 2
 # 2. How do want to update the pods?
 strategy: Recreate
 # 3. Which pods are managed by this deployment?
 selector:
 # This matches against the labels we set on the pod!
   matchLabels:
    deploy: example
 # Where deployments start to look intimidating. In reality,
 # this template field is a regular pod configuration!
 template:
  metadata:
 # Set labels on the pod.
 # This is used in the deployment selector.
   labels:
    deploy: example
  spec:
   containers:
    - name: nginx
      image: nginx:1.7.9  
      ports:
      - containerPort: 80     